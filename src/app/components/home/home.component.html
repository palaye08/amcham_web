<div class="min-h-screen bg-[#F4F6FA]">
  <app-header></app-header>

  <!-- Section Hero -->
  <section id="accueil"
    class="relative bg-gradient-to-r from-[#1C365B] via-[#0C1B31] to-[#132742] text-white overflow-hidden">
    <div class="relative flex flex-col items-center min-h-[500px] sm:min-h-[600px] py-8">
      <div class="relative z-10 w-[95%] sm:w-[90%] mx-auto">
        <!-- Grille principale -->
        <div class="flex flex-col md:grid md:grid-cols-12 gap-6 items-center">
          <!-- Image + Boutons Slide -->
          <div class="order-1 md:order-1 md:col-span-6 flex flex-col items-center relative w-full">
            <div class="overflow-hidden w-full">
              <img [src]="currentSlide.image" alt="Building"
                class="w-full max-h-[45vh] sm:max-h-[60vh] object-contain" />
            </div>

            <!-- Boutons de navigation (placés sous l’image en mobile) -->
            <div class="flex items-center justify-center space-x-4 mt-4 sm:mt-6 md:absolute md:top-[80%] md:left-6">
              <button (click)="goToSlide(currentSlideIndex === 0 ? heroSlides.length - 1 : currentSlideIndex - 1)"
                class="p-2 sm:p-3 bg-white/20 hover:bg-black/30 rounded-full transition-all duration-300 hover:scale-110">
                <svg width="30" height="30" viewBox="0 0 35 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M31.9066 16.6418H5.14885" stroke="white" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M18.5277 3.26294L5.14883 16.6418L18.5277 30.0207" stroke="white" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </button>

              <div class="text-white font-medium text-base sm:text-lg">
                <span class="text-red-500">{{ currentSlideIndex + 1 }}</span> /
                {{ heroSlides.length }}
              </div>

              <button (click)="goToSlide((currentSlideIndex + 1) % heroSlides.length)"
                class="p-2 sm:p-3 bg-white/20 hover:bg-black/30 rounded-full transition-all duration-300 hover:scale-110">
                <svg width="30" height="30" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M2.4502 16.6399H29.208" stroke="white" stroke-linecap="round" stroke-linejoin="round" />
                  <path d="M15.8285 3.26147L29.2074 16.6404L15.8285 30.0192" stroke="white" stroke-linecap="round"
                    stroke-linejoin="round" />
                </svg>
              </button>
            </div>
          </div>

          <!-- Texte -->
          <div
            class="order-2 md:order-2 md:col-span-6 text-center md:text-left mt-6 md:mt-0 flex flex-col items-center md:items-start">
            <h1 class="text-2xl sm:text-3xl lg:text-5xl font-medium mb-4 leading-tight">
              {{ currentSlide.title }}<br />
              <span class="text-blue-300">{{ currentSlide.subtitle }}</span>
            </h1>
            <p class="text-base sm:text-lg text-blue-100 mb-6 leading-relaxed max-w-xl">
              {{ currentSlide.description }}
            </p>
            <button
              class="bg-red-600 hover:bg-red-700 text-white px-5 py-3 sm:px-6 sm:py-4 rounded-[30px] text-sm font-medium flex items-center space-x-2 transition-colors"
              (click)="openAdLink()">
              <span>Voir plus</span>
              <svg width="25" height="14" viewBox="0 0 25 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                <g clip-path="url(#clip0_1_1656)">
                  <path
                    d="M19.25 7.75H5.75C5.33 7.75 5 7.42 5 7C5 6.58 5.33 6.25 5.75 6.25H19.25C19.67 6.25 20 6.58 20 7C20 7.42 19.67 7.75 19.25 7.75Z"
                    fill="white" />
                  <path
                    d="M15.5 13C15.4016 13.0012 15.3041 12.9818 15.2137 12.943C15.1233 12.9043 15.042 12.847 14.975 12.775C14.675 12.475 14.675 12.01 14.975 11.71L19.7 6.98497L14.975 2.25997C14.675 1.95997 14.675 1.49497 14.975 1.19497C15.275 0.894971 15.74 0.894971 16.04 1.19497L21.29 6.44497C21.59 6.74497 21.59 7.20997 21.29 7.50997L16.04 12.76C15.89 12.91 15.695 12.985 15.515 12.985L15.5 13Z"
                    fill="white" />
                </g>
                <defs>
                  <clipPath id="clip0_1_1656">
                    <rect width="24" height="13.5" fill="white" transform="translate(0.5 0.25)" />
                  </clipPath>
                </defs>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Recherche -->
  <section class="relative bottom-24 z-10" style="background: linear-gradient(to bottom, 50%, #F5F6FA 50%);">
    <div class="bg-white rounded-2xl p-6 sm:p-10 border w-[95%] sm:w-[87%] mx-auto">
      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-4 gap-4 sm:gap-6">
        <div class="relative">
          <label class="block text-sm font-semibold text-gray-700 mb-2">{{ searchTexts.memberName }}</label>
          <input type="text" [(ngModel)]="searchKeyword" [placeholder]="searchTexts.memberPlaceholder"
            (keyup.enter)="rechercher()"
            class="w-full px-4 py-3 sm:px-5 sm:py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 text-base sm:text-lg transition-all duration-300 hover:border-gray-300">
          <div class="absolute inset-y-0 right-0 flex items-center pr-3 mt-8"><svg class="w-5 h-5 text-gray-400"
              fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" />
            </svg></div>
        </div>
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">{{ searchTexts.country }}</label>
          <select [(ngModel)]="selectedCountryId"
            class="w-full px-4 py-3 sm:px-5 sm:py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 text-base sm:text-lg transition-all duration-300 hover:border-gray-300">
            <option [value]="undefined">{{ searchTexts.allCountries }}</option>
            @for (country of countries; track country.id) {
            <option [value]="country.id">{{ country.name }}</option>
            }
          </select>
        </div>
        <div>
          <label class="block text-sm font-semibold text-gray-700 mb-2">{{ searchTexts.sector }}</label>
          <select [(ngModel)]="selectedSectorId"
            class="w-full px-4 py-3 sm:px-5 sm:py-4 border-2 border-gray-200 rounded-xl focus:ring-2 focus:ring-red-500 focus:border-transparent text-gray-900 text-base sm:text-lg transition-all duration-300 hover:border-gray-300">
            <option [value]="undefined">{{ searchTexts.allSectors }}</option>
            @for (sector of sectors; track sector.id) {
            <option [value]="sector.id">{{ getSectorName(sector) }}</option>
            }
          </select>
        </div>
        <div class="flex flex-col sm:flex-row items-end gap-4 sm:gap-2">
          <button (click)="rechercher()" [disabled]="isSearching"
            class="w-full bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 disabled:from-gray-400 disabled:to-gray-500 text-white font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl transition-all duration-300 text-base sm:text-lg shadow-lg hover:shadow-xl transform hover:scale-105 disabled:transform-none disabled:hover:shadow-lg flex items-center justify-center space-x-2 disabled:cursor-not-allowed">
            @if (isSearching) {
            <svg class="animate-spin w-5 h-5 text-white" xmlns="http://www.w3.org/2000/svg" fill="none"
              viewBox="0 0 24 24">
              <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
              <path class="opacity-75" fill="currentColor"
                d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
              </path>
            </svg>
            <span>{{ currentLang === 'fr' ? 'Recherche...' : 'Searching...' }}</span>
            } @else {
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            <span>{{ searchTexts.search }}</span>
            }
          </button>
          <button *ngIf="isSearchActive" (click)="resetSearch()"
            class="w-full sm:w-auto bg-gray-200 hover:bg-gray-300 text-gray-900 font-bold py-3 sm:py-4 px-6 sm:px-8 rounded-xl transition-all duration-300 text-base sm:text-lg flex items-center justify-center space-x-2">
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
            </svg>
            <span>{{ currentLang === 'fr' ? 'Réinitialiser' : 'Reset' }}</span>
          </button>
        </div>
      </div>
      @if (error) {
      <div class="mt-4 p-4 bg-red-50 border border-red-200 rounded-xl">
        <div class="flex items-center space-x-2 text-red-700">
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
              d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          <span class="text-sm font-medium">{{ error }}</span>
        </div>
      </div>
      }
    </div>
  </section>

  <!-- Section Statistiques -->
  <section *ngIf="!isSearchActive" class="pt-10 pb-0 md:pb-16">
    <div class="w-[95%] sm:w-[90%] mx-auto px-2 sm:px-6 lg:px-8 relative bottom-24">
      <!-- ✅ Grid responsive : 2 colonnes sur mobile, 4 sur grand écran -->
      <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 sm:gap-6">
        <div *ngFor="let stat of stats"
          class="bg-white px-4 py-5 sm:px-6 sm:py-7 rounded-xl shadow-sm text-center flex flex-col items-center justify-center transition-transform duration-200 hover:scale-105">
          <div class="mb-3 sm:mb-5">
            <div class="w-12 h-12 sm:w-16 sm:h-16 mx-auto bg-blue-100/50 rounded-full flex items-center justify-center">
              <!-- ✅ Icônes visibles et centrées -->

              <svg *ngIf="stat.icon === 'users'" width="33" height="32" viewBox="0 0 33 32" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M21.8333 28V25.3333C21.8333 23.9188 21.2714 22.5623 20.2712 21.5621C19.271 20.5619 17.9144 20 16.5 20H8.49996C7.08547 20 5.72892 20.5619 4.72872 21.5621C3.72853 22.5623 3.16663 23.9188 3.16663 25.3333V28"
                  stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path
                  d="M21.8334 4.17065C22.977 4.46715 23.9899 5.13501 24.7129 6.0694C25.436 7.0038 25.8283 8.15184 25.8283 9.33332C25.8283 10.5148 25.436 11.6628 24.7129 12.5972C23.9899 13.5316 22.977 14.1995 21.8334 14.496"
                  stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path
                  d="M29.8334 28V25.3333C29.8325 24.1516 29.4392 23.0037 28.7152 22.0698C27.9912 21.1358 26.9775 20.4688 25.8334 20.1733"
                  stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path
                  d="M12.5 14.6667C15.4455 14.6667 17.8333 12.2789 17.8333 9.33333C17.8333 6.38781 15.4455 4 12.5 4C9.55444 4 7.16663 6.38781 7.16663 9.33333C7.16663 12.2789 9.55444 14.6667 12.5 14.6667Z"
                  stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
              </svg>
              <svg *ngIf="stat.icon === 'building'" width="33" height="32" viewBox="0 0 33 32" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M24.4999 2.66675H8.49992C7.02716 2.66675 5.83325 3.86066 5.83325 5.33341V26.6667C5.83325 28.1395 7.02716 29.3334 8.49992 29.3334H24.4999C25.9727 29.3334 27.1666 28.1395 27.1666 26.6667V5.33341C27.1666 3.86066 25.9727 2.66675 24.4999 2.66675Z"
                  stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M12.5 29.3333V24H20.5V29.3333" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M11.1667 8H11.1801" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M21.8333 8H21.8466" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M16.5 8H16.5133" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M16.5 13.3333H16.5133" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M16.5 18.6667H16.5133" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M21.8333 13.3333H21.8466" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M21.8333 18.6667H21.8466" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M11.1667 13.3333H11.1801" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
                <path d="M11.1667 18.6667H11.1801" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
              <svg *ngIf="stat.icon === 'globe'" width="33" height="32" viewBox="0 0 33 32" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M16.5001 29.3334C23.8639 29.3334 29.8334 23.3639 29.8334 16.0001C29.8334 8.63628 23.8639 2.66675 16.5001 2.66675C9.13628 2.66675 3.16675 8.63628 3.16675 16.0001C3.16675 23.3639 9.13628 29.3334 16.5001 29.3334Z"
                  stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path
                  d="M16.5001 2.66675C13.0764 6.26162 11.1667 11.0357 11.1667 16.0001C11.1667 20.9644 13.0764 25.7385 16.5001 29.3334C19.9238 25.7385 21.8334 20.9644 21.8334 16.0001C21.8334 11.0357 19.9238 6.26162 16.5001 2.66675Z"
                  stroke="#2563EB" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                <path d="M3.16675 16H29.8334" stroke="#2563EB" stroke-width="2" stroke-linecap="round"
                  stroke-linejoin="round" />
              </svg>
              <svg *ngIf="stat.icon === 'clock'" width="33" height="32" viewBox="0 0 33 32" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M29.5 30H19.5C19.2348 30 18.9804 29.8946 18.7929 29.7071C18.6054 29.5196 18.5 29.2652 18.5 29V19C18.5 18.7348 18.6054 18.4804 18.7929 18.2929C18.9804 18.1054 19.2348 18 19.5 18H29.5C29.7652 18 30.0196 18.1054 30.2071 18.2929C30.3946 18.4804 30.5 18.7348 30.5 19V29C30.5 29.2652 30.3946 29.5196 30.2071 29.7071C30.0196 29.8946 29.7652 30 29.5 30ZM20.5 28H28.5V20H20.5V28ZM8.5 30C5.192 30 2.5 27.308 2.5 24C2.5 20.692 5.192 18 8.5 18C11.808 18 14.5 20.692 14.5 24C14.5 27.308 11.808 30 8.5 30ZM8.5 20C6.294 20 4.5 21.794 4.5 24C4.5 26.206 6.294 28 8.5 28C10.706 28 12.5 26.206 12.5 24C12.5 21.794 10.706 20 8.5 20ZM22.5 14H10.5C10.323 14 10.1492 13.953 9.9963 13.8638C9.84342 13.7746 9.71695 13.6464 9.6298 13.4924C9.54265 13.3383 9.49796 13.1639 9.50028 12.9869C9.50259 12.8099 9.55185 12.6367 9.643 12.485L15.645 2.482C15.838 2.16 16.169 2 16.5 2C16.831 2 17.162 2.16 17.355 2.482L23.357 12.485C23.4482 12.6367 23.4974 12.8099 23.4997 12.9869C23.502 13.1639 23.4573 13.3383 23.3702 13.4924C23.2831 13.6464 23.1566 13.7746 23.0037 13.8638C22.8508 13.953 22.677 14 22.5 14ZM12.266 12H20.734L16.5 4.944L12.266 12Z"
                  fill="#2563EB" />
              </svg>

            </div>
          </div>

          <div class="text-2xl sm:text-3xl font-bold text-gray-900 mb-1 sm:mb-2">
            {{ stat.number }}+
          </div>
          <div class="text-gray-600 text-xs sm:text-sm font-medium text-center">
            {{ stat.label }}
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Annonces avec fonctionnalité "Lire plus" -->
  <section id="annonces" class="py-12 sm:py-16 bg-white" *ngIf="!isSearchActive">
    <div class="w-[95%] sm:w-[90%] mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row justify-between items-center mb-8 sm:mb-12">
        <h2 class="text-3xl sm:text-4xl font-bold text-[#1F2937]">{{ searchTexts.newsTitle }}</h2>
      </div>

      <!-- Loading state -->
      <div *ngIf="isLoading" class="text-center py-8">
        <div class="inline-flex items-center">
          <svg class="animate-spin -ml-1 mr-3 h-5 w-5 text-gray-500" xmlns="http://www.w3.org/2000/svg" fill="none"
            viewBox="0 0 24 24">
            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
            <path class="opacity-75" fill="currentColor"
              d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z">
            </path>
          </svg>
          {{ searchTexts.loading }}
        </div>
      </div>

      <!-- Error state -->
      <div *ngIf="error" class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6">
        {{ error }}
      </div>

      <!-- Annonces grid -->
      <div *ngIf="!isLoading && !error" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-6 sm:gap-8">
        <div *ngFor="let annonce of annonces" class="group space-y-4 cursor-pointer">
          <!-- Image -->
          <div class="relative h-64 sm:h-80 md:h-96 bg-gray-200 overflow-hidden mb-4"
            [style.background-image]="'url(https://wakana.online/repertoire_amchams/' + annonce.image + ')'">
            <img [src]="'https://wakana.online/repertoire_amchams/' + annonce.image"
              [alt]="annonce.description || 'Image'" class="w-full h-full object-contain bg-white">
          </div>

          <!-- Content -->
          <div class="mb-8 space-y-4">
            <!-- Category badge -->
            <span class="bg-red-100 text-red-600 px-3 py-2 rounded-full text-xs font-medium">
              {{ getCategoryName(annonce) }}
            </span>

            <!-- Title -->
            <h3
              class="text-lg sm:text-xl font-semibold text-gray-900 mb-2 group-hover:text-red-600 transition-colors line-clamp-2">
              {{ annonce.title }}
            </h3>

            <div class="text-gray-600 text-sm sm:text-md mb-3 font-medium leading-relaxed">
              <span [class.line-clamp-2]="!isExpanded(annonce.id)" class="inline">
                {{ isExpanded(annonce.id) ? annonce.description : getTruncatedDescription(annonce.description) }}
              </span>

              <button *ngIf="isDescriptionLong(annonce.description)" (click)="toggleDescription(annonce.id)"
                class="text-red-600 hover:text-red-700 font-semibold text-sm inline-flex items-center transition-colors ml-1 align-baseline">
                <span>
                  {{ isExpanded(annonce.id)
                  ? (currentLang === 'fr' ? 'Lire moins' : 'Read less')
                  : (currentLang === 'fr' ? 'Lire plus' : 'Read more') }}
                </span>
              </button>
            </div>


            <!-- Date -->
            <div class="text-xs text-gray-500">
              {{ formatDate(annonce.startDate) }}
            </div>
          </div>
        </div>
      </div>

      <!-- Empty state -->
      <div *ngIf="!isLoading && !error && annonces.length === 0" class="text-center py-12">
        <svg class="mx-auto h-12 sm:h-16 w-12 sm:w-16 text-gray-400" fill="none" stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
        </svg>
        <h3 class="mt-4 text-base sm:text-lg font-medium text-gray-900">{{ searchTexts.noAnnouncements }}</h3>
      </div>
    </div>
  </section>

  <!-- Section Annuaires -->
  <section id="annuaires" class="py-12 sm:py-16 bg-[#F5F6FA] membres-section">
    <div class="w-[95%] sm:w-[90%] mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex flex-col sm:flex-row justify-between items-center mb-8 md:mb-4">
        <div>
          <h2 class="text-2xl sm:text-3xl font-bold text-gray-900 mb-2">{{ searchTexts.membersTitle }}</h2>
          <p class="text-gray-600 text-sm sm:text-base">{{ searchTexts.membersDesc }}</p>
        </div>
        <div
          class=" hidden md:flex text-[#224185] bg-[#E5E7EB] px-4 py-2 sm:py-3 rounded-full font-medium text-sm sm:text-base">
          {{
          membres.length }} {{ searchTexts.membersDisplayed }}</div>
      </div>
      <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 sm:gap-8 mb-12">
        <div *ngFor="let membre of membres"
          class="bg-white rounded-xl p-4 sm:p-6 hover:shadow-md transition-shadow duration-300">
          <div class="flex items-center space-x-4 mb-4">
            <div
              class="w-10 h-10 sm:w-12 sm:h-12 bg-[#FFFF] rounded-lg flex items-center justify-center text-white font-bold text-lg">
              <img class="w-10 h-10 sm:w-12 sm:h-12 object-contain" *ngIf="membre.logo"
                [src]="'https://wakana.online/repertoire_amchams/' + membre.logo" alt="">
            </div>
            <div>
              <h3 class="text-base sm:text-lg font-semibold text-gray-900">{{ membre.nom }}</h3>
              <p class="text-gray-600 text-xs sm:text-sm">{{ membre.secteur }}</p>
            </div>
          </div>
          <div class="space-y-2 mb-4">
            <div class="flex items-center text-gray-600 text-xs sm:text-sm">
              <svg width="14" height="18" viewBox="0 0 14 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M13.0001 7.5C13.0001 12.375 7.00012 16.5 7.00012 16.5C7.00012 16.5 1.00012 12.375 1.00012 7.5C1.00012 5.9087 1.63226 4.38258 2.75748 3.25736C3.8827 2.13214 5.40882 1.5 7.00012 1.5C8.59142 1.5 10.1175 2.13214 11.2428 3.25736C12.368 4.38258 13.0001 5.9087 13.0001 7.5Z"
                  stroke="#D11E2B" stroke-width="1.5" />
                <path
                  d="M9.25012 7.5C9.25012 8.09674 9.01307 8.66903 8.59111 9.09099C8.16916 9.51295 7.59686 9.75 7.00012 9.75C6.40338 9.75 5.83109 9.51295 5.40913 9.09099C4.98717 8.66903 4.75012 8.09674 4.75012 7.5C4.75012 6.90326 4.98717 6.33097 5.40913 5.90901C5.83109 5.48705 6.40338 5.25 7.00012 5.25C7.59686 5.25 8.16916 5.48705 8.59111 5.90901C9.01307 6.33097 9.25012 6.90326 9.25012 7.5Z"
                  stroke="#D11E2B" stroke-width="1.5" />
              </svg>&nbsp;

              {{ membre.adresse }}
            </div>
            <div class="flex items-center text-gray-600 text-xs sm:text-sm">
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M9 16.5C13.1421 16.5 16.5 13.1421 16.5 9C16.5 4.85786 13.1421 1.5 9 1.5C4.85786 1.5 1.5 4.85786 1.5 9C1.5 13.1421 4.85786 16.5 9 16.5Z"
                  stroke="#D11E2B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
                <path
                  d="M1.5 9H16.5M9 1.5C7.07418 3.52212 6 6.20756 6 9C6 11.7924 7.07418 14.4779 9 16.5C10.9258 14.4779 12 11.7924 12 9C12 6.20756 10.9258 3.52212 9 1.5Z"
                  stroke="#D11E2B" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" />
              </svg>&nbsp;
              {{ membre.siteWeb }}
            </div>
            <div class="flex items-center text-gray-600 text-xs sm:text-sm">
              <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd"
                  d="M4.29977 1.53247C5.21252 0.624972 6.71552 0.786223 7.47977 1.80772L8.42627 3.07072C9.04877 3.90172 8.99327 5.06272 8.25452 5.79697L8.07602 5.97547C8.05578 6.0504 8.05372 6.12909 8.07002 6.20497C8.11727 6.51097 8.37302 7.15897 9.44402 8.22397C10.515 9.28897 11.1675 9.54397 11.478 9.59197C11.5563 9.60771 11.6371 9.6054 11.7143 9.58522L12.0203 9.28072C12.6773 8.62822 13.6853 8.50597 14.4983 8.94772L15.9308 9.72772C17.1585 10.3937 17.4683 12.0617 16.4633 13.0615L15.3975 14.1205C15.0615 14.4542 14.61 14.7325 14.0595 14.7842C12.702 14.911 9.53927 14.749 6.21452 11.4437C3.11177 8.35822 2.51627 5.66722 2.44052 4.34122C2.40302 3.67072 2.71952 3.10372 3.12302 2.70322L4.29977 1.53247ZM6.57977 2.48197C6.19952 1.97422 5.49152 1.93372 5.09252 2.33047L3.91502 3.50047C3.66752 3.74647 3.54902 4.01797 3.56402 4.27747C3.62402 5.33122 4.10402 7.75897 7.00802 10.6465C10.0545 13.675 12.8678 13.7657 13.9553 13.6637C14.1773 13.6435 14.3978 13.528 14.604 13.3232L15.669 12.2635C16.1025 11.833 16.0073 11.0485 15.3938 10.7155L13.9613 9.93622C13.5653 9.72172 13.1018 9.79222 12.8138 10.0787L12.4725 10.4185L12.075 10.0195C12.4725 10.4185 12.4718 10.4192 12.471 10.4192L12.4703 10.4207L12.468 10.423L12.4628 10.4275L12.4515 10.438C12.4199 10.4674 12.3857 10.494 12.3495 10.5175C12.2895 10.5572 12.21 10.6015 12.1103 10.6382C11.9078 10.714 11.6393 10.7545 11.3078 10.7035C10.6575 10.6037 9.79577 10.1605 8.65052 9.02197C7.50602 7.88347 7.05902 7.02697 6.95852 6.37747C6.90677 6.04597 6.94802 5.77747 7.02452 5.57497C7.06662 5.46102 7.1269 5.35465 7.20302 5.25997L7.22702 5.23372L7.23752 5.22247L7.24202 5.21797L7.24427 5.21572L7.24577 5.21422L7.46177 4.99972C7.78277 4.67947 7.82777 4.14922 7.52552 3.74497L6.57977 2.48197Z"
                  fill="#D11E2B" />
              </svg>&nbsp;
              {{ membre.telephone }}
            </div>
          </div>
          <div class="flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3">
            <button
              class="flex-1 gap-1 flex items-center justify-center text-[#B3343D] bg-gray-50 py-3 sm:py-4 px-4 rounded-lg text-xs sm:text-sm font-medium transition-colors duration-300"
              (click)="contactMembre(membre)">
              <svg width="15" height="12" viewBox="0 0 15 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M2.16671 11.3332C1.80004 11.3332 1.48626 11.2027 1.22537 10.9418C0.964485 10.6809 0.833818 10.3669 0.833374 9.99984V1.99984C0.833374 1.63317 0.964041 1.31939 1.22537 1.0585C1.48671 0.797615 1.80049 0.666948 2.16671 0.666504H12.8334C13.2 0.666504 13.514 0.79717 13.7754 1.0585C14.0367 1.31984 14.1672 1.63362 14.1667 1.99984V9.99984C14.1667 10.3665 14.0363 10.6805 13.7754 10.9418C13.5145 11.2032 13.2005 11.3336 12.8334 11.3332H2.16671ZM7.50004 6.6665L2.16671 3.33317V9.99984H12.8334V3.33317L7.50004 6.6665ZM7.50004 5.33317L12.8334 1.99984H2.16671L7.50004 5.33317ZM2.16671 3.33317V1.99984V9.99984V3.33317Z"
                  fill="#A91520" />
              </svg>

              {{ searchTexts.contact }}
            </button>
            <button (click)="navigateToMembreDetails(membre.id)"
              class="flex-1 gap-1 flex items-center justify-center bg-[#132742] text-white py-3 sm:py-4 px-4 rounded-lg text-xs sm:text-sm font-medium transition-colors duration-300">
              <svg width="17" height="16" viewBox="0 0 17 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M13.7687 5.72416C13.7371 5.65183 13.6929 5.58569 13.6381 5.52883L9.63808 1.52883C9.58122 1.47405 9.51508 1.42981 9.44275 1.39816C9.42275 1.38883 9.40141 1.3835 9.38008 1.37616C9.32428 1.35725 9.26622 1.34582 9.20741 1.34216C9.19341 1.34083 9.18075 1.3335 9.16675 1.3335H4.50008C3.76475 1.3335 3.16675 1.9315 3.16675 2.66683V13.3335C3.16675 14.0688 3.76475 14.6668 4.50008 14.6668H12.5001C13.2354 14.6668 13.8334 14.0688 13.8334 13.3335V6.00016C13.8334 5.98616 13.8261 5.9735 13.8247 5.95883C13.8211 5.90002 13.8097 5.84196 13.7907 5.78616C13.7845 5.76483 13.7772 5.74416 13.7687 5.72416ZM11.5574 5.3335H9.83341V3.6095L11.5574 5.3335ZM4.50008 13.3335V2.66683H8.50008V6.00016C8.50008 6.17697 8.57032 6.34654 8.69534 6.47157C8.82037 6.59659 8.98994 6.66683 9.16675 6.66683H12.5001L12.5014 13.3335H4.50008Z"
                  fill="white" />
                <path
                  d="M5.83325 8.00016H11.1666V9.3335H5.83325V8.00016ZM5.83325 10.6668H11.1666V12.0002H5.83325V10.6668ZM5.83325 5.3335H7.16659V6.66683H5.83325V5.3335Z"
                  fill="white" />
              </svg>

              {{ searchTexts.viewProfile }}
            </button>
          </div>
        </div>
      </div>
      <div *ngIf="membres.length === 0 && !isLoading" class="text-center py-12">
        <svg class="mx-auto h-12 sm:h-16 w-12 sm:w-16 text-gray-400" fill="none" stroke="currentColor"
          viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
            d="M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z" />
        </svg>
        <h3 class="mt-4 text-base sm:text-lg font-medium text-gray-900">{{ searchTexts.noMembers }}</h3>
      </div>
      <div class="flex justify-center">
        <button (click)="navigateToMembres()"
          class="bg-red-600 hover:bg-red-700 text-white px-6 sm:px-8 py-3 sm:py-4 rounded-full font-medium flex items-center space-x-2 transition-colors duration-300">
          <span>{{ searchTexts.seeAllMembers }}</span>
          <svg width="25" height="14" viewBox="0 0 25 14" fill="none" xmlns="http://www.w3.org/2000/svg">
            <!-- SVG path -->
          </svg>
        </button>
      </div>
    </div>
  </section>

  <!-- Section Application -->
  <section class="pb-12 sm:pb-16 bg-[#F5F6FA]">
    <div class="w-[95%] sm:w-[90%] mx-auto px-4 sm:px-6 lg:px-8">
      <div class="bg-white rounded-3xl shadow-2xl px-6 sm:px-12 relative overflow-hidden flex flex-col justify-end">

        <!-- ✅ SVG décoratifs (affichés uniquement sur grand écran) -->
        <div class="hidden lg:block absolute top-0 right-0 pointer-events-none">
          <svg width="128" height="187" viewBox="0 0 128 187" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="127.5" cy="59.5" r="127.5" fill="#D11E2B" fill-opacity="0.05" />
          </svg>
        </div>
        <div class="hidden lg:block absolute bottom-0 left-0 pointer-events-none">
          <svg width="146" height="87" viewBox="0 0 146 87" fill="none" xmlns="http://www.w3.org/2000/svg">
            <circle cx="18.5" cy="127.5" r="127.5" fill="#285D90" fill-opacity="0.05" />
          </svg>
        </div>

        <!-- ✅ Layout principal -->
        <div class="grid grid-cols-1 xl:grid-cols-2 gap-6 sm:gap-12 items-center relative z-10">

          <!-- ✅ Colonne texte -->
          <div class="xl:flex-1 py-8 sm:py-12 px-2 sm:px-0 order-1 lg:order-1">
            <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-gray-900 mb-4 sm:mb-6">
              {{ searchTexts.appTitle }}
            </h2>
            <p class="text-gray-600 mb-6 sm:mb-8 text-base sm:text-lg">
              {{ searchTexts.appDesc }}
            </p>

            <ul class="space-y-3 sm:space-y-4 text-gray-600 mb-6 sm:mb-8">
              <li class="flex items-center gap-2 text-base sm:text-lg">
                <h1 class="font-bold">•</h1>{{ searchTexts.feature1 }}
              </li>
              <li class="flex items-center gap-2">
                <h1 class="font-bold">•</h1>{{ searchTexts.feature2 }}
              </li>
              <li class="flex items-center gap-2">
                <h1 class="font-bold">•</h1>{{ searchTexts.feature3 }}
              </li>
              <li class="flex items-center gap-2">
                <h1 class="font-bold">•</h1>{{ searchTexts.feature4 }}
              </li>
            </ul>

            <!-- ✅ Boutons -->
            <div class="flex flex-col md:flex-row gap-2 md:gap-4">
              <button onclick="alert('Cette fonctionnalité n’est pas encore disponible.')"
                class="bg-white border-2 border-black text-black px-4 sm:px-6 py-3 rounded-full flex items-center justify-center space-x-3 hover:bg-gray-50 transition-colors w-full sm:w-auto">
                <svg width="16" height="21" viewBox="0 0 16 21" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M13.3637 11.1157C13.3413 8.69335 15.398 7.51487 15.492 7.46C14.3272 5.80426 12.5219 5.57803 11.8875 5.55999C10.3712 5.40441 8.9004 6.44461 8.128 6.44461C7.34018 6.44461 6.15075 5.57502 4.86881 5.60058C3.21918 5.62538 1.67592 6.55659 0.829517 8.00265C-0.917247 10.9511 0.385503 15.284 2.05904 17.6673C2.89619 18.8345 3.87441 20.1378 5.1548 20.0919C6.40744 20.0416 6.87536 19.3133 8.38701 19.3133C9.88478 19.3133 10.3242 20.0919 11.63 20.0626C12.9744 20.0416 13.8208 18.8901 14.6286 17.7124C15.5961 16.3746 15.9846 15.057 16 14.9894C15.9684 14.9789 13.3891 14.0191 13.3637 11.1157Z"
                    fill="black" />
                  <path
                    d="M10.8969 3.99218C11.5707 3.1707 12.0316 2.05309 11.9037 0.918945C10.9285 0.961034 9.70903 1.57658 9.00678 2.38003C8.38547 3.08802 7.83045 4.24847 7.97383 5.33978C9.06922 5.41944 10.1939 4.80089 10.8969 3.99218Z"
                    fill="black" />
                </svg>

                <div class="text-left">
                  <div class="text-xs sm:text-sm">{{ searchTexts.download }}</div>
                  <div class="text-sm sm:text-base font-semibold">{{ searchTexts.appStore }}</div>
                </div>
              </button>

              <button
                onclick="window.open('https://play.google.com/store/apps/details?id=com.innov.amcham_mobile&pli=1', '_blank')"
                class="bg-white border-2 border-black text-black px-4 sm:px-6 py-3 rounded-full flex items-center justify-center space-x-3 hover:bg-gray-50 transition-colors w-full sm:w-auto">
                <svg width="17" height="18" viewBox="0 0 17 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M1.25076 0.551039C1.04723 0.758773 0.929443 1.08219 0.929443 1.50104V16.4409C0.929443 16.8598 1.04723 17.1832 1.25076 17.3909L1.301 17.4365L9.88746 9.06809V8.87049L1.301 0.502063L1.25076 0.551039Z"
                    fill="url(#paint0_linear_1115_367)" />
                  <path
                    d="M12.7464 11.8589L9.88745 9.068V8.8704L12.7499 6.07952L12.814 6.11583L16.2039 7.9964C17.1713 8.53009 17.1713 9.40831 16.2039 9.94538L12.814 11.8226L12.7464 11.8589Z"
                    fill="url(#paint1_linear_1115_367)" />
                  <path
                    d="M12.814 11.8227L9.88743 8.96932L1.25073 17.391C1.57205 17.7203 2.09604 17.76 2.69191 17.4306L12.814 11.8227Z"
                    fill="url(#paint2_linear_1115_367)" />
                  <path
                    d="M12.814 6.11587L2.69191 0.507922C2.09604 0.181967 1.57205 0.221655 1.25073 0.550987L9.88743 8.96924L12.814 6.11587Z"
                    fill="url(#paint3_linear_1115_367)" />
                  <defs>
                    <linearGradient id="paint0_linear_1115_367" x1="9.12509" y1="16.5965" x2="-2.2087" y2="4.97211"
                      gradientUnits="userSpaceOnUse">
                      <stop stop-color="#00A0FF" />
                      <stop offset="0.0066" stop-color="#00A1FF" />
                      <stop offset="0.2601" stop-color="#00BEFF" />
                      <stop offset="0.5122" stop-color="#00D2FF" />
                      <stop offset="0.7604" stop-color="#00DFFF" />
                      <stop offset="1" stop-color="#00E3FF" />
                    </linearGradient>
                    <linearGradient id="paint1_linear_1115_367" x1="17.4636" y1="8.96826" x2="0.698182" y2="8.96826"
                      gradientUnits="userSpaceOnUse">
                      <stop stop-color="#FFE000" />
                      <stop offset="0.4087" stop-color="#FFBD00" />
                      <stop offset="0.7754" stop-color="#FFA500" />
                      <stop offset="1" stop-color="#FF9C00" />
                    </linearGradient>
                    <linearGradient id="paint2_linear_1115_367" x1="11.2226" y1="7.41818" x2="-4.14694" y2="-8.34545"
                      gradientUnits="userSpaceOnUse">
                      <stop stop-color="#FF3A44" />
                      <stop offset="1" stop-color="#C31162" />
                    </linearGradient>
                    <linearGradient id="paint3_linear_1115_367" x1="-0.923305" y1="22.3613" x2="5.93988" y2="15.3222"
                      gradientUnits="userSpaceOnUse">
                      <stop stop-color="#32A071" />
                      <stop offset="0.0685" stop-color="#2DA771" />
                      <stop offset="0.4762" stop-color="#15CF74" />
                      <stop offset="0.8009" stop-color="#06E775" />
                      <stop offset="1" stop-color="#00F076" />
                    </linearGradient>
                  </defs>
                </svg>

                <div class="text-left">
                  <div class="text-xs sm:text-sm">{{ searchTexts.download }}</div>
                  <div class="text-sm sm:text-base font-semibold">{{ searchTexts.googlePlay }}</div>
                </div>
              </button>
            </div>
          </div>

          <!-- ✅ Colonne image collée en bas -->
          <div class="hidden xl:block relative flex justify-center items-end order-2 lg:order-2 h-full">
            <!-- SVG rond derrière l’image -->
            <div class="absolute bottom-0 left-1/2 -translate-x-1/2 pointer-events-none z-0 w-[80%] max-w-[380px]">
              <svg viewBox="0 0 333 333" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
                <circle cx="166.5" cy="166.5" r="166.5" fill="#F8F9FD" />
              </svg>
            </div>

            <!-- ✅ Image collée au bas du conteneur -->
            <img src="assets/aucham-iphone.png" alt="AmCham App"
              class="absolute bottom-0 left-1/2 -translate-x-1/2 w-[70%] sm:w-[60%] lg:w-[85%] h-auto object-cover z-10" />
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Partenaires -->
  <section class="py-12 sm:py-16 bg-white">
    <div class="w-[95%] sm:w-[90%] mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-8 sm:mb-12">{{ searchTexts.partnersTitle }}</h2>
      @if (partenaires.length === 0) {
      <div
        class="flex flex-col sm:flex-row justify-center items-center space-y-8 sm:space-y-0 sm:space-x-8 sm:space-x-16 opacity-70">
        @for (item of [1,2,3]; track $index) {
        <div class="flex items-center justify-center">
          <div class="h-12 sm:h-16 w-24 sm:w-32 bg-gray-200 rounded animate-pulse"></div>
        </div>
        }
      </div>
      } @else {
      <div class="relative">
        <div class="overflow-hidden opacity-70">
          <div class="flex"
            [ngClass]="{'transition-transform duration-500 ease-in-out': !noTransition, 'transition-none': noTransition}"
            [style.transform]="'translateX(-' + (currentPartnerIndex * (100 / (isMobile ? 2 : 3))) + '%)'">
            @for (partenaire of displayedPartenaires; track $index) {
            <div class="flex-shrink-0 w-1/2 sm:w-[33.333%] flex items-center justify-center">
              <img [src]="'https://wakana.online/repertoire_amchams/'+ partenaire.logo" [alt]="partenaire.name"
                class="h-12 sm:h-16 w-auto object-contain grayscale-0 transition-all duration-300"
                (error)="partenaire.logo = '/assets/placeholder-logo.png'">
            </div>
            }
          </div>
        </div>
        <div class="flex justify-center mt-4 space-x-2">
          @for (partenaire of partenaires; track $index) {
          <div class="w-2 h-2 rounded-full" [class.bg-red-600]="$index === getActiveDot()"
            [class.bg-gray-300]="$index !== getActiveDot()"></div>
          }
        </div>
      </div>
      }
    </div>
  </section>

  <!-- Footer -->
  <footer class="bg-[#132742] text-white py-4 sm:py-2">
    <div class="container mx-auto px-4 sm:px-6">
      <div class="flex flex-col sm:flex-row items-center justify-between w-full h-full py-2">
        <p class="text-blue-200 text-sm sm:text-base">&copy; 2025 AmCham. Tous droits réservés.</p>
        <div class="flex items-center space-x-4 sm:space-x-6 mt-4 sm:mt-0">
          <a href="#" class="text-blue-200 hover:text-white transition-colors">
            <svg width="36" height="36" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <!-- SVG path -->
            </svg>
          </a>
          <a href="#" class="text-blue-200 hover:text-white transition-colors">
            <svg width="36" height="36" viewBox="0 0 25 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <!-- SVG path -->
            </svg>
          </a>
          <a href="#" class="text-blue-200 hover:text-white transition-colors">
            <svg width="36" height="36" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
              <!-- SVG path -->
            </svg>
          </a>
        </div>
      </div>
    </div>
  </footer>
</div>